<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>NÃºcleo-TÃ©cnico</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">



    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">

    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <link rel="stylesheet" href="calendario.css">

</head>

<body>

  <!-- Barra de Carregamento Circular -->
  <div id="loadingOverlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 9999; display: flex; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 20px; padding: 40px; text-align: center; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);">
      <svg width="120" height="120" viewBox="0 0 120 120" style="margin: 0 auto 20px;">
        <!-- CÃ­rculo de fundo -->
        <circle cx="60" cy="60" r="55" fill="none" stroke="#e0e0e0" stroke-width="6"></circle>
        <!-- CÃ­rculo de progresso -->
        <circle id="progressCircle" cx="60" cy="60" r="55" fill="none" stroke="#2e7d32" stroke-width="6" stroke-dasharray="345.575" stroke-dashoffset="345.575" stroke-linecap="round" transform="rotate(-90 60 60)" style="transition: stroke-dashoffset 0.3s ease;"></circle>
        <!-- Percentual -->
        <text id="loadingPercent" x="60" y="65" font-size="24" font-weight="bold" text-anchor="middle" fill="#2e7d32">0%</text>
      </svg>
      <p id="loadingText" style="margin-top: 16px; color: #666; font-size: 16px; font-weight: 500;">Carregando dados...</p>
    </div>
  </div>

    <div style="display: flex; align-items: center; justify-content: center; gap: 24px;">
        <h1 id="titulo"
            style="font-family:'Roboto Slab', 'Georgia', serif; font-size:2.8em; color:#184d27; letter-spacing:2px; font-weight:900; padding:10px 12px; margin:0;">
            PORTAL NÃšCLEO TÃ‰CNICO
        </h1>
    </div>
    <br>

  <div class="menu-container">
    <button id="btn-home" class="menu-btn" onclick="location.href='index.html'">Home</button>
    <button id="btn-checklist" class="menu-btn" onclick="location.href='checklist.html'">Checklist</button>
    <button id="btn-indices" class="menu-btn" onclick="location.href='indices.html'">Ãndices</button>
    <button id="btn-fluxos" class="menu-btn" onclick="location.href='fluxos.html'">Fluxos</button>
    <button id="btn-calendario" class="menu-btn" onclick="location.href='calendario.html'">CalendÃ¡rio</button>
    <button id="btn-links" class="menu-btn" onclick="location.href='links.html'">Links</button>
    <button id="btn-modulos" class="menu-btn" onclick="location.href='modulos.html'">MÃ³dulos
      <br>Homologados</button>
    <button id="btn-ferramentas" class="menu-btn"
      onclick="location.href='ferramentas.html'">Ferramentas</button>
    <button id="btn-controlens" class="menu-btn" onclick="location.href='controlens.html'">Controle<br>AnÃ¡lises</button>
    <button id="btn-engenharia" class="menu-btn" onclick="location.href='engenharia.html'">Engenharia</button>
    <button id="btn-configuracoes" class="menu-btn" onclick="location.href='configuracoes.html'">ConfiguraÃ§Ãµes</button>
    <button class="menu-btn" onclick="logout()" style="background: linear-gradient(145deg, #d32f2f, #f44336);">Sair</button>

  </div>

  <script src="auth.js"></script>
  <script src="menu.js"></script>


    <h1 style="display:inline-block; vertical-align:middle; padding: 0px 0px;">CALENDÃRIO</h1>

    <div id="containergeral">
        <!-- Painel Esquerdo: Gerenciar UsuÃ¡rios -->
        <aside id="user-container">
            <button id="toggle-users-btn" class="panel-toggle-btn">ğŸ‘¥ Gerenciar UsuÃ¡rios</button>
            <div id="user-manager" style="display:none;">
                <h3>ğŸ‘¥ Gerenciar UsuÃ¡rios</h3>
                <form id="user-form">
                    <div class="form-group">
                        <label for="user-name">ğŸ“ Nome:</label>
                        <input type="text" id="user-name" required placeholder="Nome do usuÃ¡rio">
                    </div>

                    <div class="form-group">
                        <label for="user-color">ğŸ¨ Cor:</label>
                        <input type="color" id="user-color" value="#ff0000" required>
                    </div>

                    <button type="submit" id="btn-cadastrar-usuario" class="btn-primary">âœ“ Cadastrar UsuÃ¡rio</button>
                </form>

                <ul id="user-list"></ul>
            </div>
        </aside>

        <!-- CalendÃ¡rio Central -->
        <main id="calendar"></main>

        <!-- Painel Direito: Adicionar Evento -->
        <aside id="form-container">
            <h3>ğŸ“… Adicionar Evento</h3>
            <form id="event-form">
                <div class="form-group">
                    <label for="title">ğŸ“ TÃ­tulo:</label>
                    <input type="text" id="title" required placeholder="TÃ­tulo do evento">
                </div>

                <div class="form-group">
                    <label for="type">ğŸ·ï¸ Tipo:</label>
                    <select id="type" required>
                        <option value="CompensaÃ§Ã£o">CompensaÃ§Ã£o</option>
                        <option value="FÃ©rias">FÃ©rias</option>
                        <option value="ServiÃ§o Externo">ServiÃ§o Externo</option>
                        <option value="Feriado">Feriado</option>
                        <option value="LicenÃ§a MÃ©dica">LicenÃ§a MÃ©dica</option>
                        <option value="AniversÃ¡rio">AniversÃ¡rio</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="user">ğŸ‘¤ UsuÃ¡rio:</label>
                    <select id="user" required></select>
                </div>

                <div class="form-group">
                    <label for="start">ğŸ“… Data de InÃ­cio:</label>
                    <input type="date" id="start" required>
                </div>

                <div class="form-group">
                    <label for="end">ğŸ“… Data de Fim:</label>
                    <input type="date" id="end" required>
                </div>

                <button type="submit" id="btn-adicionar-evento" class="btn-primary">âœ“ Adicionar Evento</button>
            </form>
        </aside>
    </div>

    <div id="future-events-report">
        <h3>ğŸ“… Eventos Futuros</h3>
        <ul id="future-events-list"></ul>
    </div>

















    <script src="calendario.js"></script>









</body>

</html>